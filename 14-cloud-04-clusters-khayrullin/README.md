# Домашнее задание к занятию «Кластеры. Ресурсы под управлением облачных провайдеров»  

### Выполнил Хайруллин Ильнур

## Задание 1. Yandex Cloud

1. Настроить с помощью Terraform кластер баз данных MySQL.

 - Используя настройки VPC из предыдущих домашних заданий, добавить дополнительно подсеть private в разных зонах, чтобы обеспечить отказоустойчивость. 
 - Разместить ноды кластера MySQL в разных подсетях.
 - Необходимо предусмотреть репликацию с произвольным временем технического обслуживания.
 - Использовать окружение Prestable, платформу Intel Broadwell с производительностью 50% CPU и размером диска 20 Гб.
 - Задать время начала резервного копирования — 23:59.
 - Включить защиту кластера от непреднамеренного удаления.
 - Создать БД с именем `netology_db`, логином и паролем.

2. Настроить с помощью Terraform кластер Kubernetes.

 - Используя настройки VPC из предыдущих домашних заданий, добавить дополнительно две подсети public в разных зонах, чтобы обеспечить отказоустойчивость.
 - Создать отдельный сервис-аккаунт с необходимыми правами. 
 - Создать региональный мастер Kubernetes с размещением нод в трёх разных подсетях.
 - Добавить возможность шифрования ключом из KMS, созданным в предыдущем домашнем задании.
 - Создать группу узлов, состояющую из трёх машин с автомасштабированием до шести.
 - Подключиться к кластеру с помощью `kubectl`.

## Ответ:


1.  Создал [кластер бд](https://github.com/khayrullinii/devops-netology/blob/master/14-cloud-04-clusters-khayrullin/mysql.tf) с базой данных по заданным параметрам

![1](img/1.png)

2. Cоздал [кластер Kubernetes](https://github.com/khayrullinii/devops-netology/blob/master/14-cloud-04-clusters-khayrullin/kuber.tf) по заданным параметрам

![2](img/2.png)